<!doctype html>
<html lang="fa" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>FAQ Ú†ØªÛŒ â€¢ Ù¾ÛŒÚ¯ÛŒØ±ÛŒâ€ŒÙ‡Ø§ÛŒ ØªÛŒÙ… Ø§Ø±Ø¯Ø± Ú©Ø± (NFC Order Care)</title>
<style>
/* ---------- ÙÙˆÙ†Øª (SNAPP) ----------
   Ø§Ú¯Ø± Ù…ÛŒâ€ŒØ®ÙˆØ§ÛŒ Û±-ÙØ§ÛŒÙ„ Ø¨Ø§Ø´Ù‡: WOFF2 Ø±Ùˆ Base64 Ú©Ù† Ùˆ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† PASTE... Ú©Ù†.
*/
@font-face{
  font-family:'SNAPP';
  font-style:normal;font-weight:400;
  src: local('SNAPP1.9'), local('SNAPP'),
       url('data:application/font-woff2;charset=utf-8;base64,PASTE_BASE64_WOFF2_REGULAR_HERE') format('woff2');
  font-display:swap;
}
@font-face{
  font-family:'SNAPP';
  font-style:normal;font-weight:700;
  src: local('SNAPP1.9-BOLD'), local('SNAPP Bold'),
       url('data:application/font-woff2;charset=utf-8;base64,PASTE_BASE64_WOFF2_BOLD_HERE') format('woff2');
  font-display:swap;
}
/* ---------------------------------- */
:root{--pink:#ff0a7a; --pink2:#ff6fb3; --ink:#0f172a; --bg:#f7f8fc; --soft:rgba(17,24,39,.08);}
*{box-sizing:border-box;font-family:'SNAPP',system-ui,'Segoe UI',Tahoma,Arial,sans-serif}
body{margin:0;background:
  radial-gradient(1200px 440px at 50% -200px,#ff8ecb 0%,transparent 60%),
  linear-gradient(#fff 0,#fff 120px,var(--bg) 220px);color:var(--ink)}
.header{display:flex;align-items:center;gap:12px;justify-content:space-between;padding:16px 20px;color:#fff}
.header h1{margin:0;font-size:clamp(18px,3.2vw,26px);font-weight:700;text-shadow:0 6px 24px rgba(0,0,0,.25)}
.header .tools{display:flex;gap:8px;align-items:center}
.btn{border:none;border-radius:999px;padding:10px 14px;font-weight:700;cursor:pointer}
.btn.primary{background-image:linear-gradient(to top,var(--pink),var(--pink2));color:#fff}
.btn.ghost{background:#fff;color:var(--pink);border:1px solid #ffd2e9}
.wrap{max-width:1100px;margin:10px auto 36px;padding:0 14px}
.topbar{display:flex;gap:8px;align-items:center;margin-bottom:10px}
.select{flex:1;display:flex;gap:8px;flex-wrap:wrap}
select, input[type="search"]{flex:1;min-width:260px;padding:10px;border:1px solid #ffd7ea;border-radius:12px;outline:none;background:#fff}
.chat{background:#fff;border:1px solid #ffe3f1;border-radius:20px;box-shadow:0 18px 44px var(--soft);height:72vh;display:flex;flex-direction:column}
.stream{flex:1;overflow:auto;padding:18px 16px 8px}
.row{display:flex;gap:10px;margin-bottom:14px}
.msg{max-width:78%;padding:12px 14px;border-radius:16px;box-shadow:0 8px 22px rgba(17,24,39,.06);line-height:1.8}
.bot{background:#fff7fb;border:1px solid #ffd8ea;border-top-right-radius:4px}
.user{background:#e7f5ff;border:1px solid #cfe9ff;border-top-left-radius:4px;margin-right:auto}
.avatar{width:36px;height:36px;border-radius:12px;display:grid;place-items:center;background:radial-gradient(circle at 30% 30%,#ffd1ea,#ff9bd0);font-size:18px}
.actions{padding:10px;border-top:1px solid #f1f5f9;display:flex;flex-wrap:wrap;gap:8px}
.qr{padding:9px 12px;border:1px solid #ffd7ea;border-radius:999px;background:#fff;font-weight:700;color:var(--pink);cursor:pointer}
.qr:hover{border-color:var(--pink);box-shadow:0 6px 16px rgba(255,10,122,.18);transform:translateY(-1px)}
.typing{display:inline-block;min-width:40px}
.typing span{display:inline-block;width:6px;height:6px;margin:0 2px;background:#cbd5e1;border-radius:50%;animation:b 1.2s infinite}
.typing span:nth-child(2){animation-delay:.2s} .typing span:nth-child(3){animation-delay:.4s}
@keyframes b{0%,80%,100%{opacity:.2;transform:translateY(0)}40%{opacity:1;transform:translateY(-3px)}}
.calc{background:#fff;border:1px dashed #ffcce5;border-radius:12px;padding:10px;margin-top:8px}
.calc .row2{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.calc label{font-size:12px;font-weight:700;color:#334155}
.calc input{width:100%;padding:8px;border:1px solid #ffd1ea;border-radius:10px;outline:none}
.calc .out{margin-top:8px;background:#f8fbff;border:1px solid #dbeafe;border-radius:10px;padding:8px;font-weight:700}
@media (max-width:760px){.msg{max-width:92%}.calc .row2{grid-template-columns:1fr}}
</style>
</head>
<body>

  <div class="header">
    <h1>FAQ Ú†ØªÛŒ â€¢ Ù¾ÛŒÚ¯ÛŒØ±ÛŒâ€ŒÙ‡Ø§ÛŒ ØªÛŒÙ… Ø§Ø±Ø¯Ø± Ú©Ø±</h1>
    <div class="tools">
      <button class="btn ghost" id="btnBack">Ù…Ø±Ø­Ù„Ù‡ Ù‚Ø¨Ù„</button>
      <button class="btn primary" id="btnRestart">Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯</button>
    </div>
  </div>

  <div class="wrap">
    <div class="topbar">
      <div class="select">
        <select id="faqSelect" title="Ø§Ù†ØªØ®Ø§Ø¨ Ø±ÛŒØ²Ù†/Ø³Ù†Ø§Ø±ÛŒÙˆ"></select>
        <input id="search" type="search" placeholder="Ø¬Ø³Øªâ€ŒÙˆØ¬ÙˆÛŒ Ø±ÛŒØ²Ù†â€¦ (Ø¨Ù†ÙˆÛŒØ³ØŒ Enter Ø¨Ø²Ù†)">
      </div>
      <button class="btn ghost" id="btnCopy">Ú©Ù¾ÛŒ Ù„ÛŒÙ†Ú©</button>
    </div>

    <div class="chat" id="chat">
      <div class="stream" id="stream"></div>
      <div class="actions" id="actions"></div>
    </div>
  </div>

<script>
/* =========================
   1) Ù‡Ù…Ù‡ ÙÙ„ÙˆÙ‡Ø§ (Ø®Ù„Ø§ØµÙ‡â€ŒØ´Ø¯Ù‡ Ø§Ø² Ù†Ø³Ø®Ù‡â€ŒÙ‡Ø§Øª)
   ========================= */
const FLOW_PRE_ASSIGN={start:{id:'start',text:'ÙØ§Ú©ØªÙˆØ± Ø§Ø³Ø§ÛŒÙ† Ø´Ø¯ â€” Ù„ÛŒØ¨Ù„ Ø±Ø§ Ú†Ú© Ú©Ù†.',icon:'ğŸ•’',next:'label_check'},
label_check:{id:'label_check',text:'ÙˆØ¶Ø¹ÛŒØª Ù„ÛŒØ¨Ù„ØŸ',icon:'ğŸ·ï¸',branches:[
{label:'Ø¨Ø¯ÙˆÙ† Ù„ÛŒØ¨Ù„ (Ûµ Ø³ÙØ§Ø±Ø´ Ø§Ø®ÛŒØ± Ø±Ø§ Ú†Ú© Ú©Ù†)',target:'no_label_recent'},
{label:'Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´',target:'registered_label'},{label:'Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ ØªÙ…Ø§Ø³',target:'need_contact_label'}]},
no_label_recent:{id:'no_label_recent',text:'Ûµ Ø³ÙØ§Ø±Ø´ Ø§Ø®ÛŒØ± â€” ÙˆØ¶Ø¹ÛŒØªØŸ',icon:'âœ…',branches:[
{label:'Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ø±Ø³ØªÙˆØ±Ø§Ù† (Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´)',target:'registered_label'},
{label:'Ø±Ø³ÛŒØ¯Ù‡ Ø¨Ù‡ Ø¯Ø³Øª Ø±Ø³ØªÙˆØ±Ø§Ù† (VMS Delay) â†’ ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø¬Ù…ÙˆØ¹Ù‡',target:'vms_flow'},
{label:'Ø¨Ù‡ Ø¯Ø³Øª Ø±Ø³ØªÙˆØ±Ø§Ù† Ù†Ø±Ø³ÛŒØ¯Ù‡ (Ù…Ø«Ù„ Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´)',target:'registered_label'}]},
vms_flow:{id:'vms_flow',text:'VMS Delay: ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø¬Ù…ÙˆØ¹Ù‡. Ø§Ú¯Ø± Ù…Ø´Ú©Ù„ Ø¯Ø§Ø´ØªØŒ Ù…Ø«Ù„ Ø±ÛŒØ²Ù†â€ŒÙ‡Ø§ÛŒ Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ ØªÙ…Ø§Ø³ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ú©Ù†.',icon:'ğŸª',next:'end'},
registered_label:{id:'registered_label',text:'Ø±Ø§Ù‡Ú©Ø§Ø±Ù‡Ø§ÛŒ ØªØ§Ø²Ù‡â€ŒØ³Ø§Ø²ÛŒ/Ø¨Ø§Ø²Ø®ÙˆØ§Ù†ÛŒ/Ø¨Ø³ØªÙ† Ùˆ Ø¨Ø§Ø²Ú©Ø±Ø¯Ù†/Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª.',icon:'ğŸ·ï¸',next:'end'},
need_contact_label:{id:'need_contact_label',text:'Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ ØªÙ…Ø§Ø³: Ø¹Ù„Øª Ø±Ø§ Ø¨Ù¾Ø±Ø³ Ùˆ Ø·Ø¨Ù‚ Ø±ÛŒØ²Ù†â€ŒÙ‡Ø§ Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ø¯Ù‡.',icon:'â“',next:'end'},
end:{id:'end',text:'Ù¾Ø§ÛŒØ§Ù†.',icon:'ğŸ'}};

const FLOW_ITEM_UNAVAILABLE={start:{id:'start',text:'Ù…Ø­ØµÙˆÙ„/Ø¨Ø±Ù†Ø¯ Ù…ÙˆØ±Ø¯Ù†Ø¸Ø± Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª.',icon:'ğŸ§©',next:'vendor_flag'},
vendor_flag:{id:'vendor_flag',text:'Ø¢ÛŒØ§ Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø®ÙˆØ¯Ø´ Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯ Ø²Ø¯Ù‡ØŸ',icon:'ğŸ·ï¸',branches:[
{label:'Ø®ÛŒØ± â†’ ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø¬Ù…ÙˆØ¹Ù‡',target:'call_vendor'},{label:'Ø¨Ù„Ù‡ â†’ Ø¨Ø±Ùˆ Ù†ÙˆØ¹ Ù…Ø¬Ù…ÙˆØ¹Ù‡/Ø³ÙØ§Ø±Ø´',target:'order_kind'}]},
call_vendor:{id:'call_vendor',text:'ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø¬Ù…ÙˆØ¹Ù‡ (Ø§Ø³Ú©Ø±ÛŒÙ¾Øª).',icon:'ğŸ“',next:'order_kind'},
order_kind:{id:'order_kind',text:'Ù†ÙˆØ¹ Ù…Ø¬Ù…ÙˆØ¹Ù‡/Ø³ÙØ§Ø±Ø´:',icon:'ğŸª',branches:[
{label:'Ø±Ø³ØªÙˆØ±Ø§Ù†',target:'rest_contact'},{label:'Ø¢Ø¯Ø± Ø³Ø±ÙˆÛŒØ³',target:'addr_service'},{label:'ØªÚ©â€ŒØ¢ÛŒØªÙ… Ú©Ø´â€ŒØ¨Ú©',target:'cashback_single'}]},
rest_contact:{id:'rest_contact',text:'Ø±Ø³ØªÙˆØ±Ø§Ù† â†’ ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø´ØªØ±ÛŒ. ØªØµÙ…ÛŒÙ… Ù…Ø´ØªØ±ÛŒØŸ',icon:'â˜ï¸',branches:[
{label:'Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ú©Ù…ØªØ± â†’ Ø¹ÙˆØ¯Øª Ù…Ø§Ø¨Ù‡â€ŒØ§Ù„ØªÙØ§ÙˆØª Ú©ÛŒÙ Ù¾ÙˆÙ„',target:'end'},
{label:'Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ø¨ÛŒØ´ØªØ± â†’ Ù¾Ø±ÙˆØ³Ù‡ Ø¯Ù„ØªØ§',target:'end'},
{label:'Ø­Ø°Ù Ø¢ÛŒØªÙ… â†’ Ø¹ÙˆØ¯Øª Ù…Ø§Ø¨Ù‡â€ŒØ§Ù„ØªÙØ§ÙˆØª',target:'end'},
{label:'Ù„ØºÙˆ Ú©Ù„ Ø³ÙØ§Ø±Ø´ â†’ Ù¾Ø±ÙˆØ³Ù‡ Ú©Ù†Ø³Ù„ÛŒ',target:'end'}]},
addr_service:{id:'addr_service',text:'Ø¢Ø¯Ø± Ø³Ø±ÙˆÛŒØ³:',icon:'ğŸšš',branches:[
{label:'ØªÚ©â€ŒØ¢ÛŒØªÙ… â†’ Ú©Ù†Ø³Ù„ÛŒ',target:'end'},
{label:'Ú†Ù†Ø¯Ø¢ÛŒØªÙ… Ùˆ Ù‡Ù…Ù‡ Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯ â†’ Ø§ØªÙˆÚ©Ø§Ù„ Ú©Ù†Ø³Ù„ÛŒ',target:'end'},
{label:'Ú†Ù†Ø¯Ø¢ÛŒØªÙ… Ùˆ Ø¨Ø®Ø´ÛŒ Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯ â†’ ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø´ØªØ±ÛŒ (Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ†/Ø­Ø°Ù/Ú©Ù†Ø³Ù„ÛŒ)',target:'end'}]},
cashback_single:{id:'cashback_single',text:'ØªÚ©â€ŒØ¢ÛŒØªÙ… Ú©Ø´â€ŒØ¨Ú© â†’ Ø§ØªÙˆÚ©Ø§Ù„ Ú©Ù†Ø³Ù„ÛŒ.',icon:'ğŸ¤–',next:'end'},
end:{id:'end',text:'Ù¾Ø§ÛŒØ§Ù†.',icon:'ğŸ'}};

const FLOW_DELAY={start:{id:'start',text:'Ø²Ù…Ø§Ù† Ø§Ø±Ø³Ø§Ù„/Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø·ÙˆÙ„Ø§Ù†ÛŒâ€ŒØªØ± Ù…ÛŒâ€ŒØ´ÙˆØ¯.',icon:'ğŸ•’',next:'label_kind'},
label_kind:{id:'label_kind',text:'Ù†ÙˆØ¹ Ù„ÛŒØ¨Ù„ØŸ',icon:'ğŸ·ï¸',branches:[
{label:'Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ ØªÙ…Ø§Ø³ (Ù…Ø¹Ù…ÙˆÙ„ÛŒ)',target:'courier'},{label:'ØªØ£ÛŒÛŒØ¯ Ø´Ø¯Ù‡ Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ ØªÙ…Ø§Ø³ (Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø²Ù…Ø§Ù† Ù†Ù‡Ø§ÛŒÛŒ)',target:'calc'}]},
courier:{id:'courier',text:'Ù†ÙˆØ¹ Ù¾ÛŒÚ©ØŸ',icon:'ğŸšš',branches:[
{label:'Ø§Ú©Ø³Ù¾Ø±Ø³',target:'exp_time'},{label:'Ù¾ÛŒÚ© Ø±Ø³ØªÙˆØ±Ø§Ù†',target:'res_time'}]},
exp_time:{id:'exp_time',text:'Ø§Ú©Ø³Ù¾Ø±Ø³: Û°â€“Û´Û° Ø§ØµÙ„Ø§Ø­ ÙØ§Ú©ØªÙˆØ± / Û´Û°â€“Û±Û²Û° ØªÙ…Ø§Ø³ / Û±Û²Û°+ Ø§ØªÙˆÚ©Ø§Ù„ Ú©Ù†Ø³Ù„ÛŒ.',icon:'â±ï¸',next:'end'},
res_time:{id:'res_time',text:'Ù¾ÛŒÚ© Ø±Ø³ØªÙˆØ±Ø§Ù†: Û°â€“Û·Û° Ø§ØµÙ„Ø§Ø­ / Û·Û°â€“Û±Û²Û° ØªÙ…Ø§Ø³ / Û±Û²Û°+ Ø§ØªÙˆÚ©Ø§Ù„ Ú©Ù†Ø³Ù„ÛŒ.',icon:'â±ï¸',next:'end'},
calc:{id:'calc',text:'Ù…Ø­Ø§Ø³Ø¨Ù‡ Ùˆ Ø§Ø¹Ù„Ø§Ù… Ø²Ù…Ø§Ù† Ù†Ù‡Ø§ÛŒÛŒ Ø¨Ù‡ Ù…Ø´ØªØ±ÛŒ (Ù…Ù‚Ø§Ø¯ÛŒØ± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†).',icon:'ğŸ§®'},
end:{id:'end',text:'Ù¾Ø§ÛŒØ§Ù†.',icon:'ğŸ'}};

const FLOW_ADDRESS_ISSUE={start:{id:'start',text:'Ø¢Ø¯Ø±Ø³ Ù…Ø´ØªØ±ÛŒ Ù†Ø§Ù‚Øµ/Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª.',icon:'âš ï¸',next:'pay_type'},
pay_type:{id:'pay_type',text:'Ù†ÙˆØ¹ Ù¾Ø±Ø¯Ø§Ø®ØªØŸ',icon:'ğŸ’³',branches:[
{label:'ØºÛŒØ±Ù†Ù‚Ø¯ÛŒ',target:'online_label'},{label:'Ù†Ù‚Ø¯ÛŒ',target:'cash_issue'}]},
online_label:{id:'online_label',text:'Ù„ÛŒØ¨Ù„ Ø³ÙØ§Ø±Ø´ØŸ',icon:'ğŸ·ï¸',branches:[
{label:'Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ ØªÙ…Ø§Ø³ â†’ Ø¹Ø¯Ù… Ù¾Ø§Ø³Ø® = Ú©Ù†Ø³Ù„ÛŒ',target:'online_nc'},
{label:'ØªØ£ÛŒÛŒØ¯ Ø´Ø¯Ù‡ Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ ØªÙ…Ø§Ø³',target:'online_approved'}]},
online_nc:{id:'online_nc',text:'ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø´ØªØ±ÛŒØ› Ø¹Ø¯Ù… Ù¾Ø§Ø³Ø®: Ú©Ù†Ø³Ù„ÛŒØ› Ù¾Ø§Ø³Ø®: Ø«Ø¨Øª Ø¢Ø¯Ø±Ø³ Ø¯Ù‚ÛŒÙ‚.',icon:'â˜ï¸',next:'profile_fix'},
online_approved:{id:'online_approved',text:'Ø¯Ø± Ø¹Ø¯Ù… Ù¾Ø§Ø³Ø®ØŒ Ø§Ø³ØªØ¹Ù„Ø§Ù… Ú©Ù†Ø³Ù„ÛŒ Ø§Ø² Ù…Ø¬Ù…ÙˆØ¹Ù‡Ø› Ø¯Ø± ØµÙˆØ±Øª Ø±Ø¯: Ù†Ú¯Ù‡â€ŒØ¯Ø§Ø±ÛŒ ØªØ§ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ù…Ø´ØªØ±ÛŒ.',icon:'â˜ï¸',branches:[
{label:'Ù¾Ø§Ø³Ø®Ú¯Ùˆ Ù†Ø¨ÙˆØ¯ â†’ Ø§Ø³ØªØ¹Ù„Ø§Ù… Ú©Ù†Ø³Ù„ÛŒ Ø§Ø² Ù…Ø¬Ù…ÙˆØ¹Ù‡',target:'vendor_cancel_chk'},
{label:'Ù¾Ø§Ø³Ø®Ú¯Ùˆ Ø¨ÙˆØ¯ â†’ Ø«Ø¨Øª Ø¢Ø¯Ø±Ø³ Ø¯Ù‚ÛŒÙ‚',target:'profile_fix'}]},
vendor_cancel_chk:{id:'vendor_cancel_chk',text:'Ù†ØªÛŒØ¬Ù‡ Ø§Ø³ØªØ¹Ù„Ø§Ù… Ú©Ù†Ø³Ù„ÛŒ Ø§Ø² Ù…Ø¬Ù…ÙˆØ¹Ù‡.',icon:'ğŸª',branches:[
{label:'ØªØ£ÛŒÛŒØ¯ Ø´Ø¯ â†’ Ú©Ù†Ø³Ù„ÛŒ',target:'end'},{label:'ØªØ£ÛŒÛŒØ¯ Ù†Ø´Ø¯ â†’ Ù†Ú¯Ù‡â€ŒØ¯Ø§Ø±ÛŒ Ø³ÙØ§Ø±Ø´',target:'end'}]},
cash_issue:{id:'cash_issue',text:'(Ù†Ù‚Ø¯ÛŒ) Ø¢Ø¯Ø±Ø³ Ù†Ø§Ù‚Øµ ÛŒØ§ Ù…Ú©Ø§Ù† Ø¹Ù…ÙˆÙ…ÛŒØŸ',icon:'â“',branches:[
{label:'Ø¢Ø¯Ø±Ø³ Ù†Ø§Ù‚Øµ â†’ ØªÙ…Ø§Ø³ Ùˆ Ø«Ø¨Øª Ø¯Ø± ØªÙˆØ¶ÛŒØ­Ø§Øª Ø§Ø³Ù†Ù¾â€ŒÙÙˆØ¯',target:'profile_fix'},
{label:'Ù…Ú©Ø§Ù† Ø¹Ù…ÙˆÙ…ÛŒ â†’ Ú©Ù†Ø³Ù„ÛŒ + ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø´ØªØ±ÛŒ',target:'end'}]},
profile_fix:{id:'profile_fix',text:'ØªÚ©Ù…ÛŒÙ„ Ù¾Ø±ÙˆÙØ§ÛŒÙ„ (Ù†Ø§Ù…/Ù†Ø§Ù…â€ŒØ®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ + Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø¯Ø± Â«Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ†Â»).',icon:'ğŸ–Šï¸',next:'end'},
end:{id:'end',text:'Ù¾Ø§ÛŒØ§Ù†.',icon:'ğŸ'}};

const FLOW_CANNOT_NOTE={start:{id:'start',text:'Ø§Ù…Ú©Ø§Ù† Ø§Ø¬Ø±Ø§ÛŒ ØªÙˆØ¶ÛŒØ­Ø§Øª Ù…Ø´ØªØ±ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯.',icon:'âš ï¸',next:'vendor_told'},
vendor_told:{id:'vendor_told',text:'Ø¢ÛŒØ§ Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ù…Ø´Ú©Ù„ Ø±Ø§ Ø§Ø¹Ù„Ø§Ù… Ú©Ø±Ø¯Ù‡ØŸ',icon:'ğŸª',branches:[
{label:'Ø®ÛŒØ± â†’ ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø¬Ù…ÙˆØ¹Ù‡',target:'call_vendor'},{label:'Ø¨Ù„Ù‡ â†’ Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ø§ Ù…Ø´ØªØ±ÛŒ',target:'cust_choice'}]},
call_vendor:{id:'call_vendor',text:'ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø¬Ù‡Øª Ø¨Ø±Ø±Ø³ÛŒ.',icon:'ğŸ“',next:'cust_choice'},
cust_choice:{id:'cust_choice',text:'ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø´ØªØ±ÛŒ Ùˆ ØªØµÙ…ÛŒÙ…:',icon:'â˜ï¸',branches:[
{label:'Ø¨Ø¯ÙˆÙ† ØªÙˆØ¶ÛŒØ­Ø§Øª Ø§Ø±Ø³Ø§Ù„ Ø´ÙˆØ¯ â†’ Ø«Ø¨Øª Ùˆ Ø§ØµÙ„Ø§Ø­ÛŒÙ‡',target:'end'},
{label:'Ù‡Ø²ÛŒÙ†Ù‡ Ø¯Ø§Ø±Ø¯ Ùˆ Ù…ÛŒâ€ŒÙ¾Ø°ÛŒØ±Ø¯ â†’ Ø¯Ù„ØªØ§',target:'end'},
{label:'Ù†Ù…ÛŒâ€ŒÙ¾Ø°ÛŒØ±Ø¯ â†’ Ú©Ù†Ø³Ù„ÛŒ',target:'end'}]},
end:{id:'end',text:'Ù¾Ø§ÛŒØ§Ù†.',icon:'ğŸ'}};

const FLOW_NO_SHOW={start:{id:'start',text:'Ù…Ø´ØªØ±ÛŒ Ø¨Ø±Ø§ÛŒ ØªØ­ÙˆÛŒÙ„ Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ù†Ú©Ø±Ø¯Ù†Ø¯.',icon:'âš ï¸',next:'call'},
call:{id:'call',text:'ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø´ØªØ±ÛŒ â†’ Ø¹Ø¯Ù… Ù¾Ø§Ø³Ø®: ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ùˆ Ø§Ø±Ø³Ø§Ù„ Ø§ØµÙ„Ø§Ø­ÛŒÙ‡.',icon:'â˜ï¸',branches:[
{label:'Ù¾Ø°ÛŒØ±ÙØª â†’ Ø«Ø¨Øª Ù…ÙˆØ±Ø¯ Ùˆ Ø§ØµÙ„Ø§Ø­ÛŒÙ‡',target:'end'},
{label:'Ù†Ù¾Ø°ÛŒØ±ÙØª â†’ Ù…ØªÙ‚Ø§Ø¹Ø¯Ø³Ø§Ø²ÛŒ ØªØ­ÙˆÛŒÙ„ Ø­Ø¶ÙˆØ±ÛŒ',target:'end'}]},
end:{id:'end',text:'Ù¾Ø§ÛŒØ§Ù†.',icon:'ğŸ'}};

const FLOW_WEIGHT={start:{id:'start',text:'ØªØºÛŒÛŒØ± ÙˆØ²Ù† Ù…Ø­ØµÙˆÙ„.',icon:'ğŸ·ï¸',next:'desc'},
desc:{id:'desc',text:'ØªÙˆØ¶ÛŒØ­Ø§Øª Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ú©Ø§Ù…Ù„ Ø§Ø³ØªØŸ',icon:'âœ…',branches:[
{label:'Ú©Ø§Ù…Ù„ Ø§Ø³Øª',target:'check'},{label:'Ù†Ø§Ù‚Øµ Ø§Ø³Øª â†’ ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø¬Ù…ÙˆØ¹Ù‡',target:'check'}]},
check:{id:'check',text:'Ú†Ú© Ù‚ÛŒÙ…Øª Ùˆ ÙˆØ²Ù†.',icon:'âš–ï¸',branches:[
{label:'Ú©Ù…ØªØ± â†’ ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø´ØªØ±ÛŒ',target:'less'},{label:'Ø¨ÛŒØ´ØªØ± â†’ ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø´ØªØ±ÛŒ',target:'more'}]},
less:{id:'less',text:'Ù¾Ø§Ø³Ø® Ù…Ø´ØªØ±ÛŒØŸ',icon:'âš–ï¸',branches:[
{label:'Ù…ÙˆØ±Ø¯ ØªØ£ÛŒÛŒØ¯ Ù‡Ø³Øª â†’ Ø«Ø¨Øª Ø¯Ø± ØªÙˆØ¶ÛŒØ­Ø§Øª',target:'end'},
{label:'Ù…ÙˆØ±Ø¯ ØªØ£ÛŒÛŒØ¯ Ù†ÛŒØ³Øª â†’ Ú©Ù†Ø³Ù„ÛŒ',target:'end'}]},
more:{id:'more',text:'Ù¾Ø§Ø³Ø® Ù…Ø´ØªØ±ÛŒØŸ',icon:'âš–ï¸',branches:[
{label:'Ù…ÙˆØ±Ø¯ ØªØ£ÛŒÛŒØ¯ Ù‡Ø³Øª â†’ Ø¯Ù„ØªØ§',target:'end'},
{label:'Ù…ÙˆØ±Ø¯ ØªØ£ÛŒÛŒØ¯ Ù†ÛŒØ³Øª â†’ Ú©Ù†Ø³Ù„ÛŒ',target:'end'}]},
end:{id:'end',text:'Ù¾Ø§ÛŒØ§Ù†.',icon:'ğŸ'}};

const FLOW_MISMATCH={start:{id:'start',text:'Ø³ÙØ§Ø±Ø´ Ø¨Ø§ Ù…ØºØ§ÛŒØ±Øª Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡.',icon:'âš ï¸',next:'courier'},
courier:{id:'courier',text:'Ù¾ÛŒÚ© Ø³ÙØ§Ø±Ø´ Ú†ÛŒØ³ØªØŸ',icon:'ğŸšš',branches:[
{label:'Ø§Ú©Ø³Ù¾Ø±Ø³/Ø§Ú©Ø³Ù¾Ø±Ø³ Ù¾Ù„Ø§Ø³',target:'desc'},{label:'Ù¾ÛŒÚ© Ù…Ø¬Ù…ÙˆØ¹Ù‡',target:'vendor_courier'}]},
desc:{id:'desc',text:'ØªÙˆØ¶ÛŒØ­Ø§Øª Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ú†Ú¯ÙˆÙ†Ù‡ Ø§Ø³ØªØŸ',icon:'âœ…',branches:[
{label:'Ù…ÙˆØ±Ø¯ ØªØ£ÛŒÛŒØ¯ Ù‡Ø³Øª â†’ Ø«Ø¨Øª ØªÛŒÚ©Øª + Ø«Ø¨Øª Ù…ØªÙ† + Ø§Ø±Ø³Ø§Ù„ Ø§ØµÙ„Ø§Ø­ÛŒÙ‡',target:'end'},
{label:'Ù…ÙˆØ±Ø¯ ØªØ£ÛŒÛŒØ¯ Ù†ÛŒØ³Øª â†’ ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø¬Ù…ÙˆØ¹Ù‡ â†’ Ø«Ø¨Øª ØªÛŒÚ©Øª + Ø«Ø¨Øª Ù…ØªÙ† + Ø§Ø±Ø³Ø§Ù„ Ø§ØµÙ„Ø§Ø­ÛŒÙ‡',target:'end'}]},
vendor_courier:{id:'vendor_courier',text:'ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø´ØªØ±ÛŒ Ùˆ ØªØµÙ…ÛŒÙ…',icon:'â˜ï¸',branches:[
{label:'Ø§ØµÙ„Ø§Ø­ (Ø¹ÙˆØ¯Øª Ù…Ø§Ø¨Ù‡â€ŒØ§Ù„ØªÙØ§ÙˆØª Ø¨Ù‡ Ú©ÛŒÙ Ù¾ÙˆÙ„)',target:'end'},
{label:'Ù„ØºÙˆ Ø³ÙØ§Ø±Ø´ (Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ Ø¨Ø§ Ù…Ø¬Ù…ÙˆØ¹Ù‡)',target:'end'},
{label:'Ø§Ø±Ø³Ø§Ù„ ØµØ­ÛŒØ­ Ø³ÙØ§Ø±Ø´ â†’ Ø§Ø³ØªØ¹Ù„Ø§Ù… Ù…ÙˆØ¬ÙˆØ¯ÛŒ',target:'stock'}]},
stock:{id:'stock',text:'Ø§Ø³ØªØ¹Ù„Ø§Ù… Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø§Ø² Ù…Ø¬Ù…ÙˆØ¹Ù‡',icon:'ğŸª',branches:[
{label:'Ù…ÙˆØ¬ÙˆØ¯ â†’ Ø§Ø±Ø³Ø§Ù„ Ùˆ Ø§Ø·Ù„Ø§Ø¹ Ø¨Ù‡ Ù…Ø´ØªØ±ÛŒ',target:'end'},
{label:'Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯ â†’ ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø´ØªØ±ÛŒ Ùˆ Ø§ØµÙ„Ø§Ø­/Ú©Ù†Ø³Ù„ÛŒ',target:'end'}]},
end:{id:'end',text:'Ù¾Ø§ÛŒØ§Ù†.',icon:'ğŸ'}};

const FLOW_NO_COURIER={start:{id:'start',text:'Ø¹Ø¯Ù… Ø­Ø¶ÙˆØ± Ù¾ÛŒÚ© Ù…Ø¬Ù…ÙˆØ¹Ù‡/Ø§Ú©Ø³Ù¾Ø±Ø³.',icon:'âš ï¸',next:'courier'},
courier:{id:'courier',text:'Ù¾ÛŒÚ© Ø³ÙØ§Ø±Ø´ØŸ',icon:'ğŸšš',branches:[
{label:'Ù¾ÛŒÚ© Ù…Ø¬Ù…ÙˆØ¹Ù‡',target:'vendor_absent'},{label:'Ø§Ú©Ø³Ù¾Ø±Ø³/Ø§Ú©Ø³Ù¾Ø±Ø³ Ù¾Ù„Ø§Ø³',target:'express_absent'}]},
vendor_absent:{id:'vendor_absent',text:'Ø§ØªÙˆÚ©Ø§Ù„ Ú©Ù†Ø³Ù„ÛŒ (Ø¹Ø¯Ù… Ø­Ø¶ÙˆØ± Ù¾ÛŒÚ© Ù…Ø¬Ù…ÙˆØ¹Ù‡).',icon:'ğŸ¤–',next:'end'},
express_absent:{id:'express_absent',text:'Ø¢Ø±Ø´ÛŒÙˆ ØªØ§Ø®ÛŒØ±Ù‡Ø§ Ø±Ø§ Ú†Ú© Ú©Ù†.',icon:'âœ…',branches:[
{label:'Ù‡Ø§ÛŒÙ¾Ø± Ø¯ÛŒÙ„ÛŒ Ù†ÛŒØ³Øª â†’ Ø«Ø¨Øª ØªÙˆØ¶ÛŒØ­ + Ø§Ø±Ø³Ø§Ù„ Ø§ØµÙ„Ø§Ø­ÛŒÙ‡',target:'end'},
{label:'Ù‡Ø§ÛŒÙ¾Ø± Ø¯ÛŒÙ„ÛŒ Ø§Ø³Øª â†’ ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø¬Ù…ÙˆØ¹Ù‡: Ø¨Ø§ Ù¾ÛŒÚ© Ø®ÙˆØ¯Ø´Ø§Ù† Ù…ÛŒâ€ŒÙØ±Ø³ØªÙ†Ø¯ØŸ',target:'hyper'}]},
hyper:{id:'hyper',text:'Ù†ØªÛŒØ¬Ù‡ ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø¬Ù…ÙˆØ¹Ù‡:',icon:'ğŸª',branches:[
{label:'ØªØ£ÛŒÛŒØ¯ Ø§Ø±Ø³Ø§Ù„ Ø¨Ø§ Ù¾ÛŒÚ© Ù…Ø¬Ù…ÙˆØ¹Ù‡ â†’ ØªØºÛŒÛŒØ± Ùˆ Ø§Ø±Ø³Ø§Ù„ Ø§ØµÙ„Ø§Ø­ÛŒÙ‡',target:'end'},
{label:'Ø¹Ø¯Ù… ØªØ£ÛŒÛŒØ¯ â†’ Ø¢ÛŒØ§ Ú©Ù†Ø³Ù„ÛŒ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡Ù†Ø¯ØŸ Ø¨Ù„Ù‡: ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø´ØªØ±ÛŒ Ùˆ Ú©Ù†Ø³Ù„ÛŒ / Ø®ÛŒØ±: Ø§Ø·Ù„Ø§Ø¹ Ø§Ø² ØµØ¨ÙˆØ±ÛŒ',target:'end'}]},
end:{id:'end',text:'Ù¾Ø§ÛŒØ§Ù†.',icon:'ğŸ'}};

const FLOW_SHIP_FEE={start:{id:'start',text:'ØªØºÛŒÛŒØ± Ù‡Ø²ÛŒÙ†Ù‡ Ø§Ø±Ø³Ø§Ù„ Ø³ÙØ§Ø±Ø´.',icon:'ğŸ·ï¸',next:'is_lower'},
is_lower:{id:'is_lower',text:'Ù‡Ø²ÛŒÙ†Ù‡ Ø§Ø±Ø³Ø§Ù„ Ú©Ù…ØªØ± Ø´Ø¯Ù‡ØŸ',icon:'â“',branches:[
{label:'Ø¨Ù„Ù‡ â†’ Ø§ØµÙ„Ø§Ø­ Ù‡Ø²ÛŒÙ†Ù‡ Ùˆ Ø§Ø±Ø³Ø§Ù„ Ø§ØµÙ„Ø§Ø­ÛŒÙ‡',target:'end'},
{label:'Ø®ÛŒØ± (Ø¨ÛŒØ´ØªØ± Ø´Ø¯Ù‡)',target:'who_fault'}]},
who_fault:{id:'who_fault',text:'Ø®Ø·Ø§ Ø§Ø² Ø³Ù…Øª Ú†Ù‡ Ú©Ø³ÛŒØŸ',icon:'âœ…',branches:[
{label:'Ù…Ø´ØªØ±ÛŒ â†’ Ø¯Ù„ØªØ§',target:'end'},
{label:'Ù…Ø¬Ù…ÙˆØ¹Ù‡/Ø§Ø³Ù†Ù¾â€ŒÙÙˆØ¯ â†’ Ø§Ù‚Ù†Ø§Ø¹/Ù¾ÛŒÚ¯ÛŒØ±ÛŒ â†’ Ø¯Ø± ØµÙˆØ±Øª Ø¹Ø¯Ù… Ø§Ù‚Ù†Ø§Ø¹: Ø®Ø³Ø§Ø±Øª/Ø§Ø±Ø¬Ø§Ø¹ Ø³Ø±Ú¯Ø±ÙˆÙ‡',target:'end'}]},
end:{id:'end',text:'Ù¾Ø§ÛŒØ§Ù†.',icon:'ğŸ'}};

const FLOW_DUPLICATE={start:{id:'start',text:'Ø³ÙØ§Ø±Ø´ ØªÚ©Ø±Ø§Ø±ÛŒ Ø§Ø³Øª.',icon:'âš ï¸',next:'promo'},
promo:{id:'promo',text:'Ø¨Ø§ Ú©Ø¯ ØªØ®ÙÛŒÙ Ø«Ø¨Øª Ø´Ø¯Ù‡ØŸ',icon:'â“',branches:[
{label:'Ø¨Ù„Ù‡ â†’ ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ùˆ Ø§Ø¹Ù„Ø§Ù… Ø¹Ø¯Ù… Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ + Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ Ø³Ø±Ú¯Ø±ÙˆÙ‡',target:'end'},
{label:'Ø®ÛŒØ± â†’ Ø«Ø¨Øª ØªÙ…Ø§Ø³ Ø±Ø§ Ø¨Ø±Ø§ÛŒ ØªÚ©Ø±Ø§Ø±ÛŒ Ø¨ÙˆØ¯Ù† Ú†Ú© Ú©Ù†',target:'log_chk'}]},
log_chk:{id:'log_chk',text:'Ù†ØªÛŒØ¬Ù‡ Ø¨Ø±Ø±Ø³ÛŒ Ø«Ø¨Øª ØªÙ…Ø§Ø³:',icon:'âœ…',branches:[
{label:'ØªÚ©Ø±Ø§Ø±ÛŒ Ù†ÛŒØ³Øª â†’ Ø«Ø¨Øª Â«ØªÚ©Ø±Ø§Ø±ÛŒ Ù†ÛŒØ³ØªÂ» Ø¯Ø± ØªÙˆØ¶ÛŒØ­Ø§Øª',target:'end'},
{label:'ØªÚ©Ø±Ø§Ø±ÛŒ Ø§Ø³Øª â†’ ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø´ØªØ±ÛŒ',target:'call_cust'}]},
call_cust:{id:'call_cust',text:'ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø´ØªØ±ÛŒ:',icon:'â˜ï¸',branches:[
{label:'Ù‡Ø± Ø¯Ùˆ Ø³ÙØ§Ø±Ø´ Ø±Ø§ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡Ø¯ â†’ Ø«Ø¨Øª Ø¯Ø± ØªÙˆØ¶ÛŒØ­Ø§Øª',target:'end'},
{label:'Ø§Ø´ØªØ¨Ø§Ù‡ Ø´Ø¯Ù‡ â†’ Ú©Ù†Ø³Ù„ÛŒ',target:'end'}]},
end:{id:'end',text:'Ù¾Ø§ÛŒØ§Ù†.',icon:'ğŸ'}};

const FLOW_ADDRESS_FAR={start:{id:'start',text:'Ø¢Ø¯Ø±Ø³ Ø®ÛŒÙ„ÛŒ Ø¯ÙˆØ± Ø§Ø³Øª.',icon:'âš ï¸',next:'label'},
label:{id:'label',text:'Ù„ÛŒØ¨Ù„ Ø³ÙØ§Ø±Ø´ØŸ',icon:'ğŸ·ï¸',branches:[
{label:'Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ ØªÙ…Ø§Ø³ â†’ Ø§ØªÙˆÚ©Ø§Ù„ Ú©Ù†Ø³Ù„ÛŒ',target:'end'},
{label:'ØªØ£ÛŒÛŒØ¯ Ø´Ø¯Ù‡ Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ ØªÙ…Ø§Ø³ â†’ ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø¬Ù…ÙˆØ¹Ù‡: Ø¢ÛŒØ§ Ø¨Ø§ Ù…Ø¨Ù„Øº Ø¨ÛŒØ´ØªØ± Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡Ù†Ø¯ØŸ',target:'approved'}]},
approved:{id:'approved',text:'Ù†ØªÛŒØ¬Ù‡ Ø§Ø³ØªØ¹Ù„Ø§Ù…:',icon:'ğŸª',branches:[
{label:'Ø¨Ù„Ù‡ â†’ ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø´ØªØ±ÛŒ Ùˆ Ø¯Ù„ØªØ§',target:'end'},
{label:'Ø®ÛŒØ± â†’ ØªØ­ÙˆÛŒÙ„ Ø­Ø¶ÙˆØ±ÛŒ Ø³ÙØ§Ø±Ø´',target:'end'}]},
end:{id:'end',text:'Ù¾Ø§ÛŒØ§Ù†.',icon:'ğŸ'}};

const FLOW_SYS_ISSUE={start:{id:'start',text:'Ø³ÛŒØ³ØªÙ… Ø³ÙØ§Ø±Ø´â€ŒÚ¯ÛŒØ±ÛŒ Ù…Ø´Ú©Ù„ Ø¯Ø§Ø±Ø¯.',icon:'âš ï¸',next:'call_vendor'},
call_vendor:{id:'call_vendor',text:'ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ùˆ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ.',icon:'ğŸª',next:'end'},
end:{id:'end',text:'Ù¾Ø§ÛŒØ§Ù†.',icon:'ğŸ'}};

const FLOW_BUSY_WEATHER={start:{id:'start',text:'Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ Ø´Ù„ÙˆØºÛŒ/Ø¢Ø¨â€ŒÙˆÙ‡ÙˆØ§ Ø§Ù…Ú©Ø§Ù† Ø§Ø±Ø³Ø§Ù„ Ù†ÛŒØ³Øª.',icon:'âš ï¸',next:'autocancel'},
autocancel:{id:'autocancel',text:'Ø§ØªÙˆÚ©Ø§Ù„ Ú©Ù†Ø³Ù„ÛŒ.',icon:'ğŸ¤–',next:'end'},
end:{id:'end',text:'Ù¾Ø§ÛŒØ§Ù†.',icon:'ğŸ'}};

const FLOW_ONLY_APP={start:{id:'start',text:'Ù…Ø´ØªØ±ÛŒ ÙÙ‚Ø· Ù¾ÛŒØ´â€ŒØºØ°Ø§ Ø³ÙØ§Ø±Ø´ Ø¯Ø§Ø¯Ù‡.',icon:'âš ï¸',next:'check_items'},
check_items:{id:'check_items',text:'Ø¢ÛŒØ§ Â«Ø¨Ø±Ù†Ø¬Â» ÛŒØ§ Â«Ø³Ø§Ù„Ø§Ø¯ Ø³Ø²Ø§Ø±Â» Ø¯Ø§Ø±Ø¯ØŸ',icon:'â“',branches:[
{label:'Ø¨Ù„Ù‡ â†’ ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø¬Ù…ÙˆØ¹Ù‡',target:'end'},
{label:'Ø®ÛŒØ± â†’ Ø§ØªÙˆÚ©Ø§Ù„ Ú©Ù†Ø³Ù„ÛŒ',target:'end'}]},
end:{id:'end',text:'Ù¾Ø§ÛŒØ§Ù†.',icon:'ğŸ'}};

const FLOW_TEMP_CLOSED={start:{id:'start',text:'Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ù…ÙˆÙ‚ØªØ§ Ø¨Ø³ØªÙ‡ Ø§Ø³Øª.',icon:'âš ï¸',next:'autocancel'},
autocancel:{id:'autocancel',text:'Ø§ØªÙˆÚ©Ø§Ù„ Ú©Ù†Ø³Ù„ÛŒ.',icon:'ğŸ¤–',next:'end'},
end:{id:'end',text:'Ù¾Ø§ÛŒØ§Ù†.',icon:'ğŸ'}};

const FLOW_TECH_ISSUE={start:{id:'start',text:'Ù…Ø´Ú©Ù„ ÙÙ†ÛŒ Ù…Ø¬Ù…ÙˆØ¹Ù‡ (Ø¨Ø±Ù‚/Ú¯Ø§Ø²/â€¦)',icon:'âš ï¸',next:'autocancel'},
autocancel:{id:'autocancel',text:'Ø§ØªÙˆÚ©Ø§Ù„ Ú©Ù†Ø³Ù„ÛŒ.',icon:'ğŸ¤–',next:'end'},
end:{id:'end',text:'Ù¾Ø§ÛŒØ§Ù†.',icon:'ğŸ'}};

/* ---------------------- Ù„ÛŒØ³Øª Ø±ÛŒØ²Ù†â€ŒÙ‡Ø§ ---------------------- */
const ALL_FLOWS={
  pre_assign:{title:'Ù¾ÛŒØ´â€ŒÙÙ„Ùˆ: Ø§Ø³Ø§ÛŒÙ† / Ú†Ú© Ù„ÛŒØ¨Ù„',icon:'ğŸ•’',flow:FLOW_PRE_ASSIGN},
  item_unavailable:{title:'Ù…Ø­ØµÙˆÙ„/Ø¨Ø±Ù†Ø¯ Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª',icon:'ğŸ§©',flow:FLOW_ITEM_UNAVAILABLE},
  delay:{title:'Ø²Ù…Ø§Ù† Ø§Ø±Ø³Ø§Ù„/Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø·ÙˆÙ„Ø§Ù†ÛŒâ€ŒØªØ± Ù…ÛŒâ€ŒØ´ÙˆØ¯',icon:'ğŸ•’',flow:FLOW_DELAY},
  address_issue:{title:'Ø¢Ø¯Ø±Ø³ Ù…Ø´ØªØ±ÛŒ Ù†Ø§Ù‚Øµ/Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª',icon:'âš ï¸',flow:FLOW_ADDRESS_ISSUE},
  cannot_follow_note:{title:'Ø§Ù…Ú©Ø§Ù† Ø§Ø¬Ø±Ø§ÛŒ ØªÙˆØ¶ÛŒØ­Ø§Øª Ù…Ø´ØªØ±ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯',icon:'âš ï¸',flow:FLOW_CANNOT_NOTE},
  no_show_customer:{title:'Ù…Ø´ØªØ±ÛŒ Ø¨Ø±Ø§ÛŒ ØªØ­ÙˆÛŒÙ„ Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ù†Ú©Ø±Ø¯Ù†Ø¯',icon:'âš ï¸',flow:FLOW_NO_SHOW},
  weight_change:{title:'ØªØºÛŒÛŒØ± ÙˆØ²Ù† Ù…Ø­ØµÙˆÙ„',icon:'ğŸ·ï¸',flow:FLOW_WEIGHT},
  mismatch:{title:'Ø³ÙØ§Ø±Ø´ Ø¨Ø§ Ù…ØºØ§ÛŒØ±Øª Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡',icon:'âš ï¸',flow:FLOW_MISMATCH},
  no_courier:{title:'Ø¹Ø¯Ù… Ø­Ø¶ÙˆØ± Ù¾ÛŒÚ© Ù…Ø¬Ù…ÙˆØ¹Ù‡/Ø§Ú©Ø³Ù¾Ø±Ø³',icon:'ğŸšš',flow:FLOW_NO_COURIER},
  ship_fee:{title:'ØªØºÛŒÛŒØ± Ù‡Ø²ÛŒÙ†Ù‡ Ø§Ø±Ø³Ø§Ù„ Ø³ÙØ§Ø±Ø´',icon:'ğŸ·ï¸',flow:FLOW_SHIP_FEE},
  duplicate:{title:'Ø³ÙØ§Ø±Ø´ ØªÚ©Ø±Ø§Ø±ÛŒ Ø§Ø³Øª',icon:'âš ï¸',flow:FLOW_DUPLICATE},
  address_far:{title:'Ø¢Ø¯Ø±Ø³ Ø®ÛŒÙ„ÛŒ Ø¯ÙˆØ± Ø§Ø³Øª',icon:'âš ï¸',flow:FLOW_ADDRESS_FAR},
  sys_issue:{title:'Ø³ÛŒØ³ØªÙ… Ø³ÙØ§Ø±Ø´â€ŒÚ¯ÛŒØ±ÛŒ Ù…Ø´Ú©Ù„ Ø¯Ø§Ø±Ø¯',icon:'âš ï¸',flow:FLOW_SYS_ISSUE},
  busy_weather:{title:'Ø¨Ù‡â€ŒØ¯Ù„ÛŒÙ„ Ø´Ù„ÙˆØºÛŒ/Ø¢Ø¨â€ŒÙˆÙ‡ÙˆØ§',icon:'ğŸŒ§ï¸',flow:FLOW_BUSY_WEATHER},
  only_app:{title:'Ù…Ø´ØªØ±ÛŒ ÙÙ‚Ø· Ù¾ÛŒØ´â€ŒØºØ°Ø§ Ø³ÙØ§Ø±Ø´ Ø¯Ø§Ø¯Ù‡',icon:'ğŸŸ',flow:FLOW_ONLY_APP},
  temp_closed:{title:'Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ù…ÙˆÙ‚ØªØ§ Ø¨Ø³ØªÙ‡ Ø§Ø³Øª',icon:'ğŸ”’',flow:FLOW_TEMP_CLOSED},
  tech_issue:{title:'Ù…Ø´Ú©Ù„ ÙÙ†ÛŒ Ù…Ø¬Ù…ÙˆØ¹Ù‡',icon:'ğŸ› ï¸',flow:FLOW_TECH_ISSUE}
};

/* =========================
   2) Ù…ÙˆØªÙˆØ± Ú†Øª + Ø¬Ø³ØªØ¬ÙˆÛŒ ÙˆØ§Ù‚Ø¹ÛŒ
   ========================= */
const stream=document.getElementById('stream');
const actions=document.getElementById('actions');
const sel=document.getElementById('faqSelect');
const btnBack=document.getElementById('btnBack');
const btnRestart=document.getElementById('btnRestart');
const btnCopy=document.getElementById('btnCopy');
const searchBox=document.getElementById('search');

let ActiveKey=null, ActiveFlow=null, stack=[];
let filteredKeys=[];

/* Ø³Ø§Ø®Øª/Ø¨Ø§Ø²Ø³Ø§Ø²ÛŒ Ø¢Ù¾Ø´Ù†â€ŒÙ‡Ø§ÛŒ select Ø¨Ø±Ø§Ø³Ø§Ø³ ÙÛŒÙ„ØªØ± */
function renderSelect(filter=''){
  const term=filter.trim().toLowerCase();
  sel.innerHTML='';
  const entries=Object.entries(ALL_FLOWS).filter(([k,v])=>{
    const hay=(v.title+' '+k).toLowerCase();
    return hay.includes(term);
  });
  filteredKeys=entries.map(([k])=>k);
  if(entries.length===0){
    const o=document.createElement('option'); o.textContent='Ù†ØªÛŒØ¬Ù‡â€ŒØ§ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯'; o.disabled=true; sel.appendChild(o);
    return;
  }
  entries.forEach(([k,v])=>{
    const o=document.createElement('option'); o.value=k; o.textContent=v.title; sel.appendChild(o);
  });
}

/* Ú†Øª Ù¾Ø§ÛŒÙ‡ */
function scrollEnd(){ stream.scrollTop=stream.scrollHeight; }
function bubble(html, who='bot'){
  const row=document.createElement('div'); row.className='row';
  const av=document.createElement('div'); av.className='avatar';
  av.textContent= who==='bot' ? (ALL_FLOWS[ActiveKey]?.icon||'ğŸ¤–') : 'ğŸ™‹â€â™€ï¸';
  const msg=document.createElement('div'); msg.className='msg '+(who==='bot'?'bot':'user'); msg.innerHTML=html;
  if(who==='bot'){ row.appendChild(av); row.appendChild(msg); } else { row.appendChild(msg); row.appendChild(av); }
  stream.appendChild(row); scrollEnd(); return msg;
}
function typing(on=true){
  if(on){
    const r=document.createElement('div'); r.className='row'; r.id='typing';
    const av=document.createElement('div'); av.className='avatar'; av.textContent='ğŸ¤–';
    const m=document.createElement('div'); m.className='msg bot';
    m.innerHTML=`<span class="typing"><span></span><span></span><span></span></span>`;
    r.appendChild(av); r.appendChild(m); stream.appendChild(r); scrollEnd();
  }else{ const t=document.getElementById('typing'); if(t) t.remove(); }
}
function setQuickReplies(list){ actions.innerHTML=''; (list||[]).forEach(item=>{
  const b=document.createElement('button'); b.className='qr'; b.textContent=item.label; b.onclick=()=>choose(item); actions.appendChild(b);
});}
function choose(branch){ bubble(branch.label,'user'); go(branch.target); }

/* Ù…Ø­Ø§Ø³Ø¨Ù‡â€ŒÚ¯Ø± */
function renderCalc(){
  bubble(`<b>ğŸ§® Ù…Ø­Ø§Ø³Ø¨Ù‡ Ùˆ Ø§Ø¹Ù„Ø§Ù… Ø²Ù…Ø§Ù† Ù†Ù‡Ø§ÛŒÛŒ</b>
  <div class="calc">
    <div class="row2">
      <div><label>Ø²Ù…Ø§Ù† ØªØ£ÛŒÛŒØ¯ ÙØ§Ú©ØªÙˆØ± (HH:MM)</label><input id="tConfirm" type="time"></div>
      <div><label>Ø²Ù…Ø§Ù† Ø§Ø³Ø§ÛŒÙ†/Ø³ÛŒØ³ØªÙ… (HH:MM)</label><input id="tAssign" type="time"></div>
    </div>
    <div class="row2" style="margin-top:6px">
      <div><label>Ø²Ù…Ø§Ù† Ø§ØµÙ„ÛŒ ÙØ§Ú©ØªÙˆØ±/Ø§Ø±Ø³Ø§Ù„ (Ø¯Ù‚ÛŒÙ‚Ù‡)</label><input id="tMain" type="number" min="0"></div>
      <div><label>Ø²Ù…Ø§Ù† Ø¯Ø±Ø®ÙˆØ§Ø³ØªÛŒ Ù…Ø¬Ù…ÙˆØ¹Ù‡ (Ø¯Ù‚ÛŒÙ‚Ù‡)</label><input id="tVendor" type="number" min="0"></div>
    </div>
    <div class="out" id="outBox">Ù†ØªÛŒØ¬Ù‡Ù” Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</div>
  </div>`);
  setQuickReplies([{label:'Ù…Ø­Ø§Ø³Ø¨Ù‡',target:'__calc_compute'},{label:'Ø§Ø¯Ø§Ù…Ù‡ ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø´ØªØ±ÛŒ',target:'end'}]);
}
function toMin(hhmm){if(!hhmm) return NaN; const [h,m]=hhmm.split(':').map(Number); return isNaN(h)||isNaN(m)?NaN:h*60+m;}
function doCalc(){
  const tC=toMin(document.getElementById('tConfirm').value);
  const tA=toMin(document.getElementById('tAssign').value);
  const tM=parseInt(document.getElementById('tMain').value,10);
  const tV=parseInt(document.getElementById('tVendor').value,10);
  const out=document.getElementById('outBox');
  if([tC,tA,tM,tV].some(x=>isNaN(x))){ out.textContent='ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§ Ú©Ø§Ù…Ù„ Ù†ÛŒØ³Øª.'; return; }
  let elapsed=tA-tC; if(elapsed<0) elapsed+=1440;
  if(elapsed>tM){ out.textContent='âœ… Ø¹Ø¨ÙˆØ± Ø§Ø² Ø²Ù…Ø§Ù† Ø§ØµÙ„ÛŒ â†’ Ø§Ø¹Ù„Ø§Ù… Ø¯Ù‚ÛŒÙ‚ Â«Ø²Ù…Ø§Ù† Ø¯Ø±Ø®ÙˆØ§Ø³ØªÛŒ Ù…Ø¬Ù…ÙˆØ¹Ù‡Â»: '+tV+' Ø¯Ù‚ÛŒÙ‚Ù‡.'; }
  else{ const final=(tM-elapsed)+tV; out.textContent='âœ… Ø²Ù…Ø§Ù† Ù†Ù‡Ø§ÛŒÛŒ Ø§Ø¹Ù„Ø§Ù… Ø¨Ù‡ Ù…Ø´ØªØ±ÛŒ: '+final+' Ø¯Ù‚ÛŒÙ‚Ù‡.'; }
}

/* Ø­Ø±Ú©Øª Ø¯Ø± ÙÙ„Ùˆ */
function go(stepId){
  if(stepId==='__calc_compute'){ doCalc(); return; }
  const s=ActiveFlow[stepId]; if(!s){ bubble('Ù¾Ø§ÛŒØ§Ù†/Ù…Ø³ÛŒØ± Ù†Ø§Ù…Ø¹ØªØ¨Ø±.','bot'); setQuickReplies([]); return; }
  stack.push(stepId);
  typing(true);
  setTimeout(()=>{
    typing(false);
    bubble(`<b>${s.icon||'ğŸ”·'} ${s.text}</b>`,'bot');
    if(s.id==='calc'){ renderCalc(); return; }
    if(s.branches){ setQuickReplies(s.branches); }
    else if(s.next){ setQuickReplies([{label:'Ø§Ø¯Ø§Ù…Ù‡', target:s.next}]); }
    else{ setQuickReplies([]); }
  }, 220);
}

/* startFlow: Ø§Ù„Ø¢Ù† Ø®ÙˆØ¯Ø´ Ù…Ø±Ø­Ù„Ù‡â€ŒÛŒ Ø§ÙˆÙ„ Ø±Ø§ Ø§ØªÙˆÙ…Ø§Øª Ø´Ø±ÙˆØ¹ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ */
function startFlow(key, resetHash=true, autoStart=true){
  ActiveKey=key; ActiveFlow=ALL_FLOWS[key].flow; stack=[];
  document.title='FAQ Ú†ØªÛŒ â€¢ '+ALL_FLOWS[key].title;
  stream.innerHTML=''; actions.innerHTML='';
  bubble(`<b>${ALL_FLOWS[key].icon||'ğŸ”·'} ${ALL_FLOWS[key].title}</b>`,'bot');
  const st=ActiveFlow.start?.next || 'start';
  if(autoStart){ setTimeout(()=>go(st), 180); }  // Ø¨Ø¯ÙˆÙ† Ø¯Ú©Ù…Ù‡ Â«Ø´Ø±ÙˆØ¹ ÙØ±Ø§ÛŒÙ†Ø¯Â»
  sel.value=key;
  if(resetHash) history.replaceState(null,'','#'+key);
}

/* Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ù„Ø§ÛŒ ØµÙØ­Ù‡ */
btnBack.onclick=()=>{
  if(stack.length<=1) return;
  const saved=[...stack];
  startFlow(ActiveKey,false,false); // Ø¨Ø¯ÙˆÙ† autoStart Ø¨Ø±Ø§ÛŒ Ø±ÛŒâ€ŒÙ¾Ù„ÛŒ ØµØ­ÛŒØ­
  const replay=saved.slice(0,-1);
  function next(i){
    if(i>=replay.length) return;
    const sid=replay[i]; const s=ActiveFlow[sid];
    if(i>0){ const prev=ActiveFlow[replay[i-1]];
      if(prev && prev.branches){ const chosen=prev.branches.find(b=>b.target===sid); if(chosen) bubble(chosen.label,'user'); } }
    go(sid); setTimeout(()=>next(i+1),60);
  }
  setTimeout(()=>next(0),120);
};
btnRestart.onclick=()=> startFlow(ActiveKey);
btnCopy.onclick=()=>{ navigator.clipboard.writeText(location.origin+location.pathname+'#'+ActiveKey); btnCopy.textContent='Ú©Ù¾ÛŒ Ø´Ø¯!'; setTimeout(()=>btnCopy.textContent='Ú©Ù¾ÛŒ Ù„ÛŒÙ†Ú©',900); };

/* Ø¬Ø³ØªØ¬Ùˆ: ÙÛŒÙ„ØªØ± ÙˆØ§Ù‚Ø¹ÛŒ + Enter Ø¨Ø±Ø§ÛŒ Ø§Ø¬Ø±Ø§ÛŒ Ø³Ø±ÛŒØ¹ */
searchBox.addEventListener('input',()=>{ renderSelect(searchBox.value); });
searchBox.addEventListener('keydown',(e)=>{
  if(e.key==='Enter'){ if(filteredKeys.length){ startFlow(filteredKeys[0]); } }
});

/* ØªØºÛŒÛŒØ± Ø±ÛŒØ²Ù†: Ø¨Ù„Ø§ÙØ§ØµÙ„Ù‡ Ø´Ø±ÙˆØ¹ Ú©Ù† */
sel.onchange=()=> startFlow(sel.value);

/* Ø¨ÙˆØª Ø§ÙˆÙ„ÛŒÙ‡ */
renderSelect('');
const hash=decodeURIComponent(location.hash||'').replace('#','');
const firstKey= ALL_FLOWS[hash]? hash : Object.keys(ALL_FLOWS)[0];
startFlow(firstKey,false,true);
</script>
</body>
</html>

